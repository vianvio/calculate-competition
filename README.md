# å°å­¦å£ç®—ç»ƒä¹ åº”ç”¨

ä¸€ä¸ªä¸“ä¸ºiPadè®¾è®¡çš„å°å­¦åŠ å‡ä¹˜é™¤ç»ƒä¹ NestJSå…¨æ ˆåº”ç”¨ï¼ŒåŒ…å«æ—¥å¸¸ç»ƒä¹ æ¨¡å¼å’Œå¯¹æŠ—ç«é€Ÿæ¨¡å¼ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

### ğŸ“ æ—¥å¸¸ç»ƒä¹ æ¨¡å¼
- å¯é…ç½®çš„ä¹ é¢˜è®¾ç½®ï¼ˆè®¡ç®—ç±»å‹ã€é¢˜ç›®æ•°é‡ã€è¿ç®—ä½æ•°ï¼‰
- æ”¯æŒåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•
- å¯é€‰æ‹©æ˜¯å¦æœ‰ä½™æ•°ï¼ˆé™¤æ³•ï¼‰
- å¯è®¾ç½®æ—¶é—´é™åˆ¶
- å®æ—¶æ˜¾ç¤ºæ­£ç¡®/é”™è¯¯ç»Ÿè®¡
- æ•°å­—é”®ç›˜è¾“å…¥ï¼ŒiPadä¼˜åŒ–

### ğŸ† å¯¹æŠ—ç«é€Ÿæ¨¡å¼
- åŒäººåŒæ—¶å¯¹æˆ˜
- ä¸¤ç§ç«é€Ÿæ¨¡å¼ï¼š
  - **å‡†ç¡®ç‡æ¨¡å¼**ï¼šå„è‡ªç‹¬ç«‹ç­”é¢˜ï¼Œæ¯”è¾ƒæ­£ç¡®ç‡å’Œç”¨æ—¶
  - **ç«é€ŸæŠ¢ç­”æ¨¡å¼**ï¼šåŒé¢˜æŠ¢ç­”ï¼Œå…ˆç­”å¯¹è€…å¾—åˆ†
- å¼€å§‹å‰æœ‰Ready! Go!å‡†å¤‡åŠ¨ç”»
- è®°å½•å¯¹æˆ˜ç»“æœå’Œç»Ÿè®¡

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- æ·»åŠ å¤šä¸ªç”¨æˆ·
- æ¯ä¸ªç”¨æˆ·ç‹¬ç«‹çš„ç»ƒä¹ è®°å½•
- ç”¨æˆ·å¤´åƒè¡¨æƒ…ç¬¦å·

### ğŸ“… ç»ƒä¹ æ—¥å†
- å¯è§†åŒ–å±•ç¤ºæ¯æ—¥ç»ƒä¹ æƒ…å†µ
- æœ‰ç»ƒä¹ çš„æ—¥æœŸæ˜¾ç¤ºâœ“
- å…¨å¯¹çš„æ—¥æœŸæ˜¾ç¤ºâ­ï¸
- æœªç»ƒä¹ çš„æ—¥æœŸç½®ç°
- ç‚¹å‡»æ—¥æœŸæŸ¥çœ‹å½“å¤©ç»ƒä¹ è¯¦æƒ…

### ğŸ“Š ç»Ÿè®¡æ•°æ®
- æ—¥å¸¸ç»ƒä¹ æ€»é¢˜æ•°
- æ—¥å¸¸æ¨¡å¼æ­£ç¡®ç‡
- ç«é€Ÿè·èƒœæ¬¡æ•°
- ç«é€Ÿèƒœç‡

### ğŸ“‹ å¯¹æŠ—è®°å½•åˆ—è¡¨
- æŸ¥çœ‹æ‰€æœ‰å¯¹æˆ˜è®°å½•
- æ˜¾ç¤ºå¯¹æ‰‹ã€å¾—åˆ†ã€æ¨¡å¼
- æ ‡è®°èƒœè´Ÿ

## æŠ€æœ¯æ ˆ

- **åç«¯**: NestJS + TypeScript
- **æ•°æ®åº“**: SQLite + TypeORM
- **å‰ç«¯**: EJSæ¨¡æ¿ + åŸç”ŸJavaScript
- **æ ·å¼**: å“åº”å¼CSSï¼ˆiPadä¼˜åŒ–ï¼‰

## å®‰è£…å’Œè¿è¡Œ

### å®‰è£…ä¾èµ–
```bash
npm install
```

### ç¼–è¯‘TypeScript
```bash
npm run build
```

### è¿è¡Œåº”ç”¨

å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰ï¼š
```bash
npm run dev
```

ç”Ÿäº§æ¨¡å¼ï¼š
```bash
npm start
```

åº”ç”¨å°†åœ¨ http://localhost:3000 å¯åŠ¨

## é¡¹ç›®ç»“æ„

```
calculate-competition/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.ts                 # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ app.module.ts           # ä¸»æ¨¡å—
â”‚   â”œâ”€â”€ app.controller.ts       # é¡µé¢è·¯ç”±æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ users/                  # ç”¨æˆ·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ user.entity.ts
â”‚   â”‚   â”œâ”€â”€ users.controller.ts
â”‚   â”‚   â”œâ”€â”€ users.service.ts
â”‚   â”‚   â””â”€â”€ users.module.ts
â”‚   â”œâ”€â”€ practice/               # ç»ƒä¹ æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ practice-session.entity.ts
â”‚   â”‚   â”œâ”€â”€ practice.controller.ts
â”‚   â”‚   â”œâ”€â”€ practice.service.ts
â”‚   â”‚   â””â”€â”€ practice.module.ts
â”‚   â””â”€â”€ competition/            # ç«é€Ÿæ¨¡å—
â”‚       â”œâ”€â”€ competition-record.entity.ts
â”‚       â”œâ”€â”€ competition.controller.ts
â”‚       â”œâ”€â”€ competition.service.ts
â”‚       â””â”€â”€ competition.module.ts
â”œâ”€â”€ views/                      # EJSæ¨¡æ¿
â”‚   â”œâ”€â”€ index.ejs              # é¦–é¡µ
â”‚   â”œâ”€â”€ select-user.ejs        # ç”¨æˆ·é€‰æ‹©
â”‚   â”œâ”€â”€ practice.ejs           # æ—¥å¸¸ç»ƒä¹ 
â”‚   â”œâ”€â”€ competition-setup.ejs  # ç«é€Ÿè®¾ç½®
â”‚   â”œâ”€â”€ calendar.ejs           # ç»ƒä¹ æ—¥å†
â”‚   â”œâ”€â”€ stats.ejs              # ç»Ÿè®¡æ•°æ®
â”‚   â””â”€â”€ competition-records.ejs # å¯¹æˆ˜è®°å½•
â”œâ”€â”€ public/                     # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css          # ä¸»æ ·å¼è¡¨
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ main.js            # é€šç”¨å‡½æ•°
â”‚       â”œâ”€â”€ select-user.js     # ç”¨æˆ·é€‰æ‹©é¡µé¢
â”‚       â”œâ”€â”€ practice.js        # ç»ƒä¹ é¡µé¢
â”‚       â”œâ”€â”€ competition-setup.js
â”‚       â”œâ”€â”€ calendar.js
â”‚       â”œâ”€â”€ stats.js
â”‚       â””â”€â”€ competition-records.js
â””â”€â”€ calculate-competition.db    # SQLiteæ•°æ®åº“ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
```

## APIæ¥å£

### ç”¨æˆ·ç®¡ç†
- `POST /api/users` - åˆ›å»ºç”¨æˆ·
- `GET /api/users` - è·å–æ‰€æœ‰ç”¨æˆ·
- `GET /api/users/:id` - è·å–å•ä¸ªç”¨æˆ·
- `GET /api/users/:id/stats` - è·å–ç”¨æˆ·ç»Ÿè®¡
- `DELETE /api/users/:id` - åˆ é™¤ç”¨æˆ·

### ç»ƒä¹ 
- `POST /api/practice/generate` - ç”Ÿæˆç»ƒä¹ é¢˜ç›®
- `POST /api/practice/session` - ä¿å­˜ç»ƒä¹ è®°å½•
- `GET /api/practice/user/:userId` - è·å–ç”¨æˆ·ç»ƒä¹ è®°å½•
- `GET /api/practice/calendar/:userId` - è·å–ç»ƒä¹ æ—¥å†

### ç«é€Ÿ
- `POST /api/competition/generate` - ç”Ÿæˆç«é€Ÿé¢˜ç›®
- `POST /api/competition/record` - ä¿å­˜ç«é€Ÿè®°å½•
- `GET /api/competition/user/:userId` - è·å–ç”¨æˆ·ç«é€Ÿè®°å½•

## æ•°æ®åº“æ¨¡å‹

### Userï¼ˆç”¨æˆ·ï¼‰
- id: ä¸»é”®
- name: ç”¨æˆ·å
- avatar: å¤´åƒè¡¨æƒ…
- createdAt: åˆ›å»ºæ—¶é—´

### PracticeSessionï¼ˆç»ƒä¹ è®°å½•ï¼‰
- id: ä¸»é”®
- userId: ç”¨æˆ·ID
- totalQuestions: æ€»é¢˜æ•°
- correctAnswers: æ­£ç¡®æ•°
- wrongAnswers: é”™è¯¯æ•°
- timeSpent: ç”¨æ—¶ï¼ˆç§’ï¼‰
- settings: ç»ƒä¹ è®¾ç½®ï¼ˆJSONï¼‰
- questions: é¢˜ç›®è¯¦æƒ…ï¼ˆJSONï¼‰
- createdAt: åˆ›å»ºæ—¶é—´

### CompetitionRecordï¼ˆç«é€Ÿè®°å½•ï¼‰
- id: ä¸»é”®
- player1Id/player2Id: ç©å®¶ID
- mode: ç«é€Ÿæ¨¡å¼
- winnerId: è·èƒœè€…ID
- player1Score/player2Score: ç©å®¶å¾—åˆ†
- player1Correct/player2Correct: ç©å®¶æ­£ç¡®æ•°
- player1Time/player2Time: ç©å®¶ç”¨æ—¶
- settings: ç«é€Ÿè®¾ç½®ï¼ˆJSONï¼‰
- player1Questions/player2Questions: é¢˜ç›®è¯¦æƒ…ï¼ˆJSONï¼‰
- createdAt: åˆ›å»ºæ—¶é—´

## ä½¿ç”¨æŒ‡å—

1. **é¦–æ¬¡ä½¿ç”¨**
   - æ‰“å¼€åº”ç”¨ï¼Œç‚¹å‡»"æ·»åŠ æ–°ç”¨æˆ·"åˆ›å»ºç”¨æˆ·
   - è¾“å…¥ç”¨æˆ·åï¼Œç³»ç»Ÿè‡ªåŠ¨åˆ†é…å¤´åƒ

2. **æ—¥å¸¸ç»ƒä¹ **
   - é€‰æ‹©ç”¨æˆ· â†’ æ—¥å¸¸ç»ƒä¹ 
   - è®¾ç½®è®¡ç®—ç±»å‹ã€é¢˜ç›®æ•°é‡ã€ä½æ•°ç­‰
   - å¼€å§‹ç»ƒä¹ ï¼Œä½¿ç”¨æ•°å­—é”®ç›˜è¾“å…¥ç­”æ¡ˆ
   - å®ŒæˆåæŸ¥çœ‹æˆç»©å’Œç»Ÿè®¡

3. **å¯¹æŠ—ç«é€Ÿ**
   - é€‰æ‹©ç”¨æˆ· â†’ å¯¹æŠ—ç«é€Ÿ
   - é€‰æ‹©å·¦å³ä¸¤ä½ç©å®¶
   - é€‰æ‹©ç«é€Ÿæ¨¡å¼å’Œéš¾åº¦è®¾ç½®
   - å¼€å§‹ç«é€Ÿï¼Œä¸¤äººåŒæ—¶æ“ä½œ

4. **æŸ¥çœ‹æ•°æ®**
   - ç»ƒä¹ æ—¥å†ï¼šæŸ¥çœ‹æ¯æ—¥ç»ƒä¹ æƒ…å†µ
   - ç”¨æˆ·ç»Ÿè®¡ï¼šæŸ¥çœ‹æ€»ä½“æ•°æ®
   - å¯¹æŠ—è®°å½•ï¼šæŸ¥çœ‹å†å²å¯¹æˆ˜

## iPadä¼˜åŒ–

- å“åº”å¼å¸ƒå±€ï¼Œé€‚é…iPadå±å¹•
- è§¦æ‘¸å‹å¥½çš„å¤§æŒ‰é’®
- æ•°å­—é”®ç›˜ä¼˜åŒ–è¾“å…¥ä½“éªŒ
- æ¨ªå±æ¨¡å¼æœ€ä½³ä½“éªŒ
- ç¦ç”¨æ–‡æœ¬é€‰æ‹©å’Œé•¿æŒ‰èœå•

## å¼€å‘è¯´æ˜

æœ¬é¡¹ç›®ä½¿ç”¨TypeScriptå¼€å‘ï¼Œæ‰€æœ‰å®ä½“ã€æœåŠ¡å’Œæ§åˆ¶å™¨éƒ½æœ‰å®Œæ•´çš„ç±»å‹å®šä¹‰ã€‚æ•°æ®åº“ä½¿ç”¨SQLiteï¼Œæ— éœ€é¢å¤–é…ç½®ï¼Œåº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“æ–‡ä»¶å’Œè¡¨ç»“æ„ã€‚

## License

ISC
